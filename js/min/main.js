!function(){function e(e){var n=e.find(".event-title").text(),a=e.find(".event-lat").text(),o=e.find(".event-lng").text(),i=t(e),l={icon:d,title:n,position:new google.maps.LatLng(a,o),animation:google.maps.Animation.DROP,map:f},p=new google.maps.InfoWindow({content:i}),m=new google.maps.Marker(l);!function(e,t){google.maps.event.addListener(t,"click",function(){y&&h&&(y.close(),h.setAnimation(null)),e.open(f,t),t.setAnimation(google.maps.Animation.BOUNCE),y=e,h=t}),google.maps.event.addListener(e,"closeclick",function(){t.setAnimation(null)})}(p,m)}function t(e){var t=$("<div>"),n=$('<div class="map-info">'),a=$('<img class="map-logo" width="100">').attr("src",e.find(".event-logo").attr("src")),o=$('<p class="map-title">').text(e.find(".event-title").text()),i=$('<p class="map-link">').append($('<a class="from-map">詳しく見る</a>').attr("href","#"+e.attr("id")));return n.append(a),n.append(o),n.append(i),t.append(n).html()}$(document).on("click","a[href^=#]",function(e){var t=$(this),n=$(t.attr("href"));1===n.length&&(e.preventDefault(),$("body").animate({scrollTop:n.offset().top},400))}),$("#btn_menu").on("click",function(){$(".gnav").toggleClass("menu_open")});for(var n=$("#total-events"),a=$("#total-atendees"),o=$(".event"),i=0,l=0,p=o.length;p>l;l++)i+=0|$(o[l]).find(".event-atendee").text();if(n.text(o.length),a.text(i),!window.matchMedia("(max-width: 601px)").matches){var m=38.925229,s=136.713867,g=5,d="images/icon_map_pin.svg",c=[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"geometry",stylers:[{hue:"#6b3838"},{saturation:"-70"},{gamma:"0.5"}]}],r={center:new google.maps.LatLng(m,s),zoom:g,minZoom:g,mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControlOptions:{mapTypeIds:["htmlday",google.maps.MapTypeId.ROADMAP]}},f=new google.maps.Map(document.getElementById("map"),r),u={},v=new google.maps.StyledMapType(c,u);f.mapTypes.set("htmlday",v),f.setMapTypeId("htmlday");for(var y,h,l=0,p=o.length;p>l;l++)!function(t){setTimeout(function(){e(t)},200*l+1e3)}($(o[l]))}}();