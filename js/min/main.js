!function(){function e(e){console.log("createMarker");var n=e.find(".event-title").text(),a=e.find(".event-lat").text(),o=e.find(".event-lng").text(),i=t(e),l={icon:c,title:n,position:new google.maps.LatLng(a,o),animation:google.maps.Animation.DROP,map:u},p=new google.maps.InfoWindow({content:i}),m=new google.maps.Marker(l);!function(e,t){google.maps.event.addListener(t,"click",function(){h&&T&&(h.close(),T.setAnimation(null)),e.open(u,t),t.setAnimation(google.maps.Animation.BOUNCE),h=e,T=t}),google.maps.event.addListener(e,"closeclick",function(){t.setAnimation(null)})}(p,m)}function t(e){var t=$("<div>"),n=$('<div class="map-info">'),a=$('<img class="map-logo" width="100">').attr("src",e.find(".event-logo").attr("src")),o=$('<p class="map-title">').text(e.find(".event-title").text()),i=$('<p class="map-link">').append($('<a class="from-map">詳しく見る</a>').attr("href","#"+e.attr("id")));return n.append(a),n.append(o),n.append(i),t.append(n).html()}function n(e){var t=e.map(Math.random);return e.sort(function(e,n){return t[e]-t[n]}),e}$(document).on("click","a[href^=#]",function(e){var t=$(this),n=$(t.attr("href"));1===n.length&&(e.preventDefault(),$("body").animate({scrollTop:n.offset().top},400))}),$("#btn_menu").on("click",function(){$(".gnav").toggleClass("menu_open")});for(var a=$("#total-events"),o=$("#total-atendees"),i=$(".event"),l=0,p=0,m=i.length;m>p;p++)l+=0|$(i[p]).find(".event-atendee").text();if(a.text(i.length),o.text(l),!window.matchMedia("(max-width: 601px)").matches){var s=38.925229,r=136.713867,g=5,c="images/icon_map_pin.svg",d=[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"geometry",stylers:[{hue:"#6b3838"},{saturation:"-70"},{gamma:"0.5"}]}],f={center:new google.maps.LatLng(s,r),zoom:g,minZoom:g,mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControlOptions:{mapTypeIds:["htmlday",google.maps.MapTypeId.ROADMAP]}},u=new google.maps.Map(document.getElementById("map"),f),v={},y=new google.maps.StyledMapType(d,v);u.mapTypes.set("htmlday",y),u.setMapTypeId("htmlday");var h,T;i=n(i);for(var p=0,m=i.length;m>p;p++)!function(t){setTimeout(function(){e(t)},200*p+2e3)}($(i[p]))}}();